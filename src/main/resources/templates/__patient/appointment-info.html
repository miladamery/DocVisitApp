<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<body>
    <th:block th:fragment="appointment">
        <div hx-get="/patient/load/appointment"
             hx-include="input[type='hidden']"
             hx-trigger="every 10s"
        >
            <div class="d-flex align-items-center text-center justify-content-center">
                <div class="row">
                    <div class="col-sm-12">
                        <span style="font-family: Poppins, serif;font-size: 0.8em;" th:text="#{checkin.thanks}">Thank you for checking in</span>
                    </div>
                    <div class="col-sm-12">
                        <span style="font-family: Poppins, serif;font-weight: bold;" th:text="${appointment.firstName} + ' ' + ${appointment.lastName}"></span>
                    </div>
                </div>
            </div>
            <div class="d-flex align-items-center text-center justify-content-center m-5" style="background-color: #494462; border-radius: 0.625rem;">
                <div class="row">
                    <div class="col-sm-12">
                        <span style="color: #FFF; font-family: Poppins, serif;font-size: 0.8em;" th:text="#{your.ticket.number}">Your Ticket Number</span>
                    </div>
                    <div class="col-sm-12 mt-3 mb-3">
                        <span class="numberCircle"><span th:text="${appointment.turnNumber}"></span></span>
                    </div>
                    <div class="col-sm-12">
                        <img th:src="@{/images/line.png}" />
                    </div>
                    <div class="col-sm-12 mt-3 mb-1">
                        <i class="fa-regular fa-clock" style="color: #ffffff;"></i>
                        <span style="color: #FFF; font-family: Poppins, serif;font-size: 0.8em;" th:text="#{waiting.time}">Waiting Time</span>
                    </div>
                    <div class="col-sm-12 mb-4">
                        <span style="color: #FFF; font-family: Poppins, serif;font-weight: bolder; color: #C5A470;" th:text="${waitingTime} + ' Minutes'"></span>
                    </div>
                </div>
            </div>
            <div class="d-flex align-items-center text-center justify-content-center">
                <div class="row">
                    <div class="col-sm-12">
                        <span style="font-family: Poppins, serif;font-size: 0.8em;" th:text="#{num.of.people}">Number of People ahead of you:</span>
                    </div>
                    <div class="col-sm-12">
                        <span style="font-family: Poppins, serif;font-size: 2em;color: #494462;" th:text="${appointment.turnsToAwait}"></span>
                    </div>
                    <div class="col-sm-6 offset-sm-6 mt-3">
                        <input id="take_turn" class="btn btn-primary" type="button"
                               th:value="#{cancel.check.in}" value="Cancel CHECK-IN" style="background-color: #C5A470; height: 60px; width: 100%;"
                               hx-delete="/patient/cancel/appointment"
                               hx-swap="none"
                               th:attr="hx-confirm=#{cancel.confirm.message}" hx-confirm="Are you sure about cancelling appointment?"
                        />
                    </div>
                </div>
            </div>
            <input type="hidden" name="id" th:value="${appointment.id}">
        </div>
    </th:block>
</body>
